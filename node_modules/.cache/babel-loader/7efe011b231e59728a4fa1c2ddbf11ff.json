{"ast":null,"code":"export const POST_MESSAGE = \"POST_MESSAGE\";\nexport const sendMessage = content => ({\n  type: POST_MESSAGE,\n  content\n});\nexport const postMessage = (content, relationship_id) => {\n  return async dispatch => {\n    try {\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"token\"))\n        },\n        body: JSON.stringify({\n          content,\n          relationship_id\n        })\n      };\n      const response = await fetch(\"http://localhost:3001/profile\", reqObj);\n      const json = await response.json();\n      console.log(json);\n      dispatch(sendMessage(json));\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/flatironschool/Development/code/MOD4/ruinme/ruinme-frontend/src/store/actions/messages.js"],"names":["POST_MESSAGE","sendMessage","content","type","postMessage","relationship_id","dispatch","reqObj","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","response","fetch","json","console","log","error"],"mappings":"AACA,OAAO,MAAMA,YAAY,GAAG,cAArB;AAEP,OAAO,MAAMC,WAAW,GAAGC,OAAO,KAAK;AACrCC,EAAAA,IAAI,EAAEH,YAD+B;AAErCE,EAAAA;AAFqC,CAAL,CAA3B;AAIP,OAAO,MAAME,WAAW,GAAG,CAACF,OAAD,EAAUG,eAAV,KAA8B;AACvD,SAAO,MAAMC,QAAN,IAAkB;AACvB,QAAI;AACF,YAAMC,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAE,MADK;AAEbC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AAFN,SAFI;AAMbC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBb,UAAAA,OADmB;AAEnBG,UAAAA;AAFmB,SAAf;AANO,OAAf;AAWA,YAAMW,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAAD,EAAkCV,MAAlC,CAA5B;AACA,YAAMW,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAZ,MAAAA,QAAQ,CAACL,WAAW,CAACiB,IAAD,CAAZ,CAAR;AACD,KAhBD,CAgBE,OAAOG,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACE,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACD;AACF,GApBD;AAqBD,CAtBM","sourcesContent":["\nexport const POST_MESSAGE = \"POST_MESSAGE\";\n\nexport const sendMessage = content => ({\n  type: POST_MESSAGE,\n  content\n});\nexport const postMessage = (content, relationship_id) => {\n  return async dispatch => {\n    try {\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({\n          content,\n          relationship_id\n        })\n      };\n      const response = await fetch(\"http://localhost:3001/profile\", reqObj);\n      const json = await response.json();\n      console.log(json)\n      dispatch(sendMessage(json));\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}