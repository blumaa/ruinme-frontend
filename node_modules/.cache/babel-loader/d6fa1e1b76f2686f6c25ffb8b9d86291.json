{"ast":null,"code":"export const POST_MESSAGE = \"POST_MESSAGE\";\nexport const getCurrentUser = current_user => ({\n  type: POST_MESSAGE,\n  current_user\n});\nexport const fetchCurrentUser = () => {\n  return async dispatch => {\n    try {\n      const reqObj = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"token\"))\n        }\n      };\n      const response = await fetch(\"http://localhost:3001/profile\", reqObj);\n      const json = await response.json();\n      console.log(json);\n      dispatch(getCurrentUser(json));\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/flatironschool/Development/code/MOD4/ruinme/ruinme-frontend/src/store/actions/messages.js"],"names":["POST_MESSAGE","getCurrentUser","current_user","type","fetchCurrentUser","dispatch","reqObj","method","headers","Authorization","localStorage","getItem","response","fetch","json","console","log","error"],"mappings":"AACA,OAAO,MAAMA,YAAY,GAAG,cAArB;AAEP,OAAO,MAAMC,cAAc,GAAGC,YAAY,KAAK;AAC7CC,EAAAA,IAAI,EAAEH,YADuC;AAE7CE,EAAAA;AAF6C,CAAL,CAAnC;AAIP,OAAO,MAAME,gBAAgB,GAAG,MAAM;AACpC,SAAO,MAAMC,QAAN,IAAkB;AACvB,QAAI;AACF,YAAMC,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAE,KADK;AAEbC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AAFN;AAFI,OAAf;AAOA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAAD,EAAkCP,MAAlC,CAA5B;AACA,YAAMQ,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAT,MAAAA,QAAQ,CAACJ,cAAc,CAACa,IAAD,CAAf,CAAR;AACD,KAZD,CAYE,OAAOG,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACE,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACD;AACF,GAhBD;AAiBD,CAlBM","sourcesContent":["\nexport const POST_MESSAGE = \"POST_MESSAGE\";\n\nexport const getCurrentUser = current_user => ({\n  type: POST_MESSAGE,\n  current_user\n});\nexport const fetchCurrentUser = () => {\n  return async dispatch => {\n    try {\n      const reqObj = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      };\n      const response = await fetch(\"http://localhost:3001/profile\", reqObj);\n      const json = await response.json();\n      console.log(json)\n      dispatch(getCurrentUser(json));\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}